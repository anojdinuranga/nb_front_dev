<!DOCTYPE html>
<html lang="en">

<head>
    <title>Queen Kuweni - View Bag</title>
    <%- header_tags %>
        <style>
            html,
            body {
                overflow-x: hidden !important;
            }
        </style>
        <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
        <script src="https://nationstrustbankplc.gateway.mastercard.com/static/checkout/checkout.min.js"
            data-error="errorCallback" data-cancel="cancelCallback"></script>
        <script type="text/javascript">
            function errorCallback(error) {
                console.log(JSON.stringify(error));
            }
            function cancelCallback() {
                console.log('Payment cancelled');
            }

        </script>

</head>

<body>

    <!------------------- navbar --------------->
    <%- sidebar %>
        <!--------------- navbar end --------------->


        <!------------------ Your Shipping Information start------------------->

        <div class="main">

            <% if (loggedIn) { %>
                <section id="viewbegform" class="mt-5 pt-5 ">
                    <div class="container-fluid mt-5">
                        <div class="row g-0">
                            <div class="col-xl-8 col-md-12 mx-auto">
                                <form class="row g-3">
                                    <h3 class="view-bag-form-hadder-text mb-0">Your Shipping Information</h3>
                                    <div class="col-md-6">
                                        <input type="text" class="form-control" id="first_name"
                                            value="<%- first_name %>" placeholder="First Name*">
                                    </div>
                                    <div class="col-md-6">
                                        <input type="text" class="form-control" id="last_name" value="<%- last_name %>"
                                            placeholder="Last Name*">
                                    </div>
                                    <div class="col-6">
                                        <input type="email" class="form-control" id="email" value="<%-  email %>"
                                            placeholder="Email*">
                                    </div>
                                    <div class="col-md-1">
                                        <select class="form-select country_select" id="countryCode">
                                            <option value="94" selected="">+94</option>
                                            <option value="1">+1</option>
                                            <option value="61">+61</option>
                                            <option value="33">+33</option>
                                            <option value="91">+91</option>
                                            <option value="39">+39</option>
                                            <option value="960">+960</option>
                                            <option value="31">+31</option>
                                            <option value="65">+65</option>
                                            <option value="971">+971</option>
                                            <option value="44">+44</option>
                                            <option value="971">+971</option>
                                            <option value="64">+64</option>
                                            <option value="268">+268</option>
                                            <option value="353">+353</option>
                                            <option value="34">+34</option>
                                            <option value="974">+974</option>
                                            <option value="49">+49</option>
                                            <option value="44">+44</option>
                                            <option value="358">+358</option>
                                        </select>
                                    </div>
                                    <div class="col-5">
                                        <input type="text" class="form-control" id="mobile" value="<%- mobile %>"
                                            placeholder="Phone Number without first 0*">
                                    </div>
                                    <div class="col-12">
                                        <input type="text" class="form-control" id="address" value="<%- address %>"
                                            placeholder="Address*">
                                    </div>
                                    <div class="col-md-4">
                                        <!-- <input type="text" class="form-control" id="country" placeholder="Country*"> -->
                                        <select class="form-control country_select" name="state" id="country"
                                            onchange="setCountry()">
                                            <option value="" selected disabled>Select Your Country</option>
                                            <option value="US">America</option>
                                            <option value="AU">Australia</option>
                                            <option value="CA">Canada</option>
                                            <option value="FR">France</option>
                                            <option value="IN">India</option>
                                            <option value="IT">Italy</option>
                                            <option value="MV">Maldives</option>
                                            <option value="NL">Netherlands</option>
                                            <option value="SG">Singapore</option>
                                            <option value="LK">Sri Lanka</option>
                                            <option value="AE">United Arab Emirates</option>
                                            <option value="GB">United Kingdom</option>
                                            <option value="AE">Dubai</option>
                                            <option value="NZ">New Zealand</option>
                                            <option value="SZ">Swaziland</option>
                                            <option value="NL">Netherlands</option>
                                            <option value="IE">Ireland</option>
                                            <option value="ES">Spain</option>
                                            <option value="QA">Qatar</option>
                                            <option value="DE">Germany</option>
                                            <option value="GB">United Kingdom</option>
                                            <option value="FI">Finland</option>
                                        </select>

                                    </div>

                                    <div class="col-md-4">
                                        <input type="text" class="form-control" id="city" placeholder="City*">
                                    </div>

                                    <div class="col-md-4">
                                        <input type="text" class="form-control" id="postal_code"
                                            placeholder="Post Code*">
                                    </div>

                                </form>
                            </div>
                        </div>

                        <div class="row g-0 my-4">
                            <div class="col-xl-8 col-md-12 mx-auto">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="flexCheckDefault"
                                        onchange="showDifferentAddressInfo(this)">
                                    <label class="form-check-label" for="flexCheckDefault">
                                        Ship To a Different Address
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="row g-0" id="difAddressInfoContainer" style="display: none;">
                            <div class="col-xl-8 col-md-12 mx-auto">
                                <form class="row g-3">
                                    <h3 class="view-bag-form-hadder-text mb-0"> Shipping Information</h3>
                                    <div class="col-md-6">
                                        <input type="text" class="form-control" id="dif_first_name" value=""
                                            placeholder="First Name*">
                                    </div>
                                    <div class="col-md-6">
                                        <input type="text" class="form-control" id="dif_last_name" value=""
                                            placeholder="Last Name*">
                                    </div>
                                    <div class="col-6">
                                        <input type="email" class="form-control" id="dif_email" value=""
                                            placeholder="Email*">
                                    </div>
                                    <div class="col-md-1">
                                        <select class="form-select country_select" id="dif_countryCode">
                                            <option value="94" selected="">+94</option>
                                            <option value="1">+1</option>
                                            <option value="61">+61</option>
                                            <option value="33">+33</option>
                                            <option value="91">+91</option>
                                            <option value="39">+39</option>
                                            <option value="960">+960</option>
                                            <option value="31">+31</option>
                                            <option value="65">+65</option>
                                            <option value="971">+971</option>
                                            <option value="44">+44</option>
                                            <option value="971">+971</option>
                                            <option value="64">+64</option>
                                            <option value="268">+268</option>
                                            <option value="353">+353</option>
                                            <option value="34">+34</option>
                                            <option value="974">+974</option>
                                            <option value="49">+49</option>
                                            <option value="44">+44</option>
                                            <option value="358">+358</option>
                                        </select>
                                    </div>
                                    <div class="col-5">
                                        <input type="text" class="form-control" id="dif_mobile" value=""
                                            placeholder="Phone Number without first 0*">
                                    </div>
                                    <div class="col-12">
                                        <input type="text" class="form-control" id="dif_address" value=""
                                            placeholder="Address*">
                                    </div>
                                    <div class="col-md-4">
                                        <!-- <input type="text" class="form-control" id="country" placeholder="Country*"> -->
                                        <select class="form-control country_select w-100" name="state" id="dif_country"
                                            onchange="setCountry()">
                                            <option value="" selected disabled>Select Your Country</option>
                                            <option value="US">America</option>
                                            <option value="AU">Australia</option>
                                            <option value="CA">Canada</option>
                                            <option value="FR">France</option>
                                            <option value="IN">India</option>
                                            <option value="IT">Italy</option>
                                            <option value="MV">Maldives</option>
                                            <option value="NL">Netherlands</option>
                                            <option value="SG">Singapore</option>
                                            <option value="LK">Sri Lanka</option>
                                            <option value="AE">United Arab Emirates</option>
                                            <option value="GB">United Kingdom</option>
                                            <option value="AE">Dubai</option>
                                            <option value="NZ">New Zealand</option>
                                            <option value="SZ">Swaziland</option>
                                            <option value="NL">Netherlands</option>
                                            <option value="IE">Ireland</option>
                                            <option value="ES">Spain</option>
                                            <option value="QA">Qatar</option>
                                            <option value="DE">Germany</option>
                                            <option value="GB">United Kingdom</option>
                                            <option value="FI">Finland</option>
                                        </select>

                                    </div>

                                    <div class="col-md-4">
                                        <input type="text" class="form-control" id="dif_city" placeholder="City*">
                                    </div>

                                    <div class="col-md-4">
                                        <input type="text" class="form-control" id="dif_postal_code"
                                            placeholder="Post Code*">
                                    </div>

                                </form>
                            </div>
                        </div>

                        <div class="mt-3">
                            <div class="col-xl-8 col-md-12 mx-auto row">

                                <div class="col-12 col-md-6 mt-2">
                                    <div class="row border border-borderdark rounded-3 py-4 ">
                                        <div class="col-md-12 d-flex ps-3 ps-md-5">
                                            <div>
                                                <h3 class="view-bag-form-hadder-text mb-3">Payment Methods</h3>
                                                <div class="form-check form-check-inline">
                                                    <input class="form-check-input" type="radio" name="payment_method"
                                                        id="inlineRadio3" value="hnb">
                                                    <label class="form-check-label" for="inlineRadio3">Visa / master
                                                        card</label>
                                                </div>
                                                <div class="form-check form-check-inline ps-5">
                                                    <input class="form-check-input" type="radio" name="payment_method"
                                                        id="inlineRadio4" value="amex">
                                                    <label class="form-check-label" for="inlineRadio4">AmEx</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-12 col-md-6 mt-2  ps-md-5">
                                    <div class="row border border-borderdark rounded-3 py-4 ">
                                        <div class="col-md-12 d-flex ps-3 ps-md-5">
                                            <div>
                                                <h3 class="view-bag-form-hadder-text mb-3">Shipping method</h3>
                                                <div class="form-check form-check-inline">
                                                    <input class="form-check-input" type="radio" name="shipping_method"
                                                        id="home_delivery" value="hnb">
                                                    <label class="form-check-label" for="home_delivery">Home
                                                        Delivery</label>
                                                </div>
                                                <div class="form-check form-check-inline ps-5">
                                                    <input class="form-check-input" type="radio" name="shipping_method"
                                                        id="pickup" value="amex">
                                                    <label class="form-check-label" for="pickup">Pickup</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="mt-4">
                            <div class="col-xl-8 col-md-12 mx-auto row g-0">
                                <div class="col-md-3">
                                    <div class="card" style="margin-right: .5rem;">
                                        <div class="card-body">
                                            <div class="d-flex justify-content-between align-items-center">
                                                <div class="d-flex gap-2 align-items-center">
                                                    <input class="form-check-input" type="radio" name="bank-card-type">
                                                    <img src="/assets/images/bank-logo/hnb-cards.jpg" alt="">
                                                </div>
                                                <span class="fw-bold">10% OFF</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="card mx-2">
                                        <div class="card-body">
                                            <div class="d-flex justify-content-between align-items-center">
                                                <div class="d-flex gap-2 align-items-center">
                                                    <input class="form-check-input" type="radio" name="bank-card-type">
                                                    <img src="/assets/images/bank-logo/peoples-bank.jpg" alt="">
                                                </div>
                                                <span class="fw-bold">10% OFF</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="card mx-2">
                                        <div class="card-body">
                                            <div class="d-flex justify-content-between align-items-center">
                                                <div class="d-flex gap-2 align-items-center">
                                                    <input class="form-check-input" type="radio" name="bank-card-type">
                                                    <img src="/assets/images/bank-logo/NTB-AMEX-SINGLE.jpg" alt="">
                                                </div>
                                                <span class="fw-bold">10% OFF</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="card" style="margin-left: .5rem;">
                                        <div class="card-body" aria-label="">
                                            <div class="d-flex justify-content-between align-items-center">
                                                <div class="d-flex gap-2 align-items-center">
                                                    <input class="form-check-input" type="radio" name="bank-card-type">
                                                    <img src="/assets/images/bank-logo/sampath-bank-logo.jpg" alt="">
                                                </div>
                                                <span class="fw-bold">10% OFF</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </section>
                <% } else { %>
                    <% } %>
                        <!------------------ Your Shipping Information End------------------->



                        <!------------------------ PROCEED TO PAY start------------------------------>
                        <section class="mt-5 view-bag-bg-color pb-5 mt-70">
                            <div class="container-fluid">
                                <div class="row py-5">
                                    <div class="col-xl-6 col-md-12 mx-auto py-md-5">
                                        <div class="row g-0">
                                            <div class="col">

                                                <div class="mx-md-5 mx-2" id="cartList"></div>



                                                <div class="mx-md-5 mx-2 mt-4 d-flex justify-content-between">
                                                    <div>
                                                        <h2 class="Ready-made-offcanvas-card-subtotal mb-3">Sub Total
                                                        </h2>
                                                        <!-- <h2 class="Ready-made-offcanvas-card-subtotal mb-3">Delivery charge</h2> -->
                                                        <h2 class="Ready-made-offcanvas-card-total">Total</h2>
                                                    </div>

                                                    <div class="text-end">
                                                        <h2 class="Ready-made-offcanvas-card-price mb-3" id="sub_total">
                                                        </h2>
                                                        <!-- <h2 class="Ready-made-offcanvas-card-price mb-3">USD 0</h2> -->
                                                        <h2 class="Ready-made-offcanvas-card-total" id="totalPrice">
                                                        </h2>
                                                    </div>
                                                </div>


                                            </div>
                                        </div>
                                        <div
                                            class="row g-0 mx-md-5 mx-2 mt-4 g-0 flex-md-row-reverse d-flex align-items-end justify-content-between">

                                            <div class="col-md-5 text-end">
                                                <% if (loggedIn) { %>
                                                    <button onclick="proceedToPay()" type="button" id="pay"
                                                        class="btn btn-secondary Ready-Product-offcanvas-btn2 py-2 w-100">PROCEED
                                                        TO PAY</button>
                                                    <% } else { %>
                                                        <a href="/login" type="button" id="pay"
                                                            class="btn btn-secondary Ready-Product-offcanvas-btn2 py-2 w-100">LOGIN
                                                            TO PAY</a>
                                                        <% } %>

                                            </div>

                                            <div
                                                class="col-md-6 mt-md-5 mt-4 d-flex align-items-end justify-content-md-start justify-content-center">
                                                <div class="d-flex gap-4">
                                                    <img class="img-fluid me-2"
                                                        src="assets/images/Ready-made-single/Vector.svg" />
                                                    <img class="img-fluid me-2"
                                                        src="assets/images/Ready-made-single/Group.svg" />
                                                    <img class="img-fluid me-2"
                                                        src="assets/images/Ready-made-single/Group 161.svg" />

                                                </div>
                                            </div>


                                        </div>
                                    </div>
                                </div>
                            </div>

                        </section>
                        <!------------------------ PROCEED TO PAY END------------------------------>


                        <!-------------------------- select your topic start----------------------------->
                        <section class="mt-5 pt-md-0 pt-5 d-none">
                            <div class="container-fluid py-md-5">
                                <div class="col-xl-10 col-md-12 mx-auto">
                                    <div class="row g-0 py-md-5 pb-5 pb-md-0 pt-md-0 pt-2">

                                        <h3 class="view-bag-form-hadder-text mb-4">Select Your Topic</h3>

                                        <div class="col-xl-6 pe-md-3 col-md-12">

                                            <div class="row g-3  row-cols-2 row-cols-md-3 row-cols-xl-3">
                                                <div class="col">
                                                    <div class="card  view-bag-card-height">
                                                        <div
                                                            class="card-body text-center d-flex flex-column align-items-center justify-content-center align-items-xl-center">
                                                            <div>
                                                                <img src="assets/images/View-Bag/Scissors.svg"
                                                                    class="img-fluid" alt="">
                                                            </div>
                                                            <div class="mt-2">
                                                                <h4 class="view-bag-card-text">Tailoring</h4>

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col">
                                                    <div class="card view-bag-card-height">
                                                        <div
                                                            class="card-body text-center d-flex flex-column justify-content-center align-items-center align-items-xl-center">
                                                            <div>
                                                                <img src="assets/images/View-Bag/Rectangle.svg"
                                                                    class="img-fluid" alt="">
                                                            </div>
                                                            <div class="mt-2">
                                                                <h4 class="view-bag-card-text">Shipping & Delivery</h4>

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col">
                                                    <div class="card view-bag-card-height">
                                                        <div
                                                            class="card-body text-center d-flex flex-column justify-content-center align-items-center align-items-xl-center">
                                                            <div>
                                                                <img src="assets/images/View-Bag/Rectangle4.svg"
                                                                    class="img-fluid" alt="">
                                                            </div>
                                                            <div class="mt-2">
                                                                <h4 class="view-bag-card-text">Orders</h4>

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col">
                                                    <div class="card view-bag-card-height">
                                                        <div
                                                            class="card-body text-center d-flex flex-column justify-content-center align-items-center align-items-xl-center">
                                                            <div>
                                                                <img src="assets/images/View-Bag/Creditcard.svg"
                                                                    class="img-fluid" alt="">
                                                            </div>
                                                            <div class="mt-2">
                                                                <h4 class="view-bag-card-text">Payment Issues</h4>

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col">
                                                    <div class="card view-bag-card-height">
                                                        <div
                                                            class="card-body text-center d-flex flex-column align-items-center justify-content-center align-items-xl-center">
                                                            <div>
                                                                <img src="assets/images/View-Bag/Return.svg"
                                                                    class="img-fluid" alt="">
                                                            </div>
                                                            <div class="mt-2">
                                                                <h4 class="view-bag-card-text">Return</h4>

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col">
                                                    <div class="card view-bag-card-height">
                                                        <div
                                                            class="card-body text-center d-flex flex-column justify-content-center align-items-center align-items-xl-center">
                                                            <div>
                                                                <img src="assets/images/View-Bag/Rectangle2.svg"
                                                                    class="img-fluid" alt="">
                                                            </div>
                                                            <div class="mt-2">
                                                                <h4 class="view-bag-card-text">Product</h4>

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                        <div
                                            class="col-xl-6 col-md-6 col-12 d-flex justify-content-center align-items-center bg-black text-white">
                                            <div class="d-none d-xl-block">
                                                <p class="mb-1 nearest-store-Download nearest-store">Download <br>
                                                    Mobile App</p>
                                                <p class="nearest-store2">Exclusive Deals and Offers!</p>
                                                <div class="d-flex align-items-center">
                                                    <a href=""><img src="assets/images/nearest-store/Group-155.svg"
                                                            class="img-fluid" alt=""></a>
                                                    <a href=""><img
                                                            src="assets/images/nearest-store/google-play-badge 1.svg"
                                                            class="img-fluid" alt=""></a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>
                        <!-------------------------- select your topic End----------------------------->


                        <!------------------------------ Support start------------------------------>
                        <section id="viewbagsupport" class="mb-5 mt-5 d-none">
                            <div class="container-fluid pb-md-5 pb-5">
                                <div class="row g-0">
                                    <div class="col-xl-10 col-md-12 mx-auto">
                                        <div class="row g-0 d-flex align-items-center">
                                            <!-- Sidebar -->
                                            <div class="col-md-4 mb-md-0 mb-4">
                                                <div class="d-flex flex-column align-items-start">
                                                    <h5 class="mb-4 fw-bolder text-black">Support</h5>
                                                    <div class="nav flex-column nav-tabs  border-0">

                                                        <a class="nav-item nav-link ps-0 pb-3 view-bag-support-link active border-0"
                                                            id="tab1-tab" data-bs-toggle="pill"
                                                            href="#tab1">Overview</a>
                                                        <a class="nav-item nav-link  ps-0 pb-3 view-bag-support-link border-0"
                                                            id="tab2-tab" data-bs-toggle="pill" href="#tab2">Delivery
                                                            time</a>
                                                        <a class="nav-item nav-link  ps-0 pb-3 view-bag-support-link border-0"
                                                            id="tab3-tab" data-bs-toggle="pill" href="#tab3">shipping
                                                            options</a>
                                                        <a class="nav-item nav-link  ps-0 pb-3 view-bag-support-link border-0"
                                                            id="tab4-tab" data-bs-toggle="pill" href="#tab4">Returns &
                                                            refunds</a>
                                                        <a class="nav-item nav-link  ps-0 pb-3 view-bag-support-link border-0"
                                                            id="tab5-tab" data-bs-toggle="pill"
                                                            href="#tab5">Overview</a>
                                                        <a class="nav-item nav-link ps-0 pb-3 view-bag-support-link border-0"
                                                            id="tab6-tab" data-bs-toggle="pill" href="#tab6">Selivery
                                                            time</a>
                                                        <a class="nav-item nav-link  ps-0 pb-3 view-bag-support-link border-0"
                                                            id="tab7-tab" data-bs-toggle="pill" href="#tab7">Shipping
                                                            options</a>
                                                        <a class="nav-item nav-link  ps-0 pb-3 view-bag-support-link border-0"
                                                            id="tab8-tab" data-bs-toggle="pill"
                                                            href="#tab8">Overview</a>

                                                        <a class="nav-item nav-link  ps-0 pb-3 view-bag-support-link border-0"
                                                            id="tab9-tab" data-bs-toggle="pill" href="#tab9">Delivery
                                                            time</a>

                                                        <a class="nav-item nav-link  ps-0 pb-3 view-bag-support-link border-0"
                                                            id="tab10-tab" data-bs-toggle="pill" href="#tab10">shipping
                                                            options</a>


                                                        <!-- Add more tabs as needed -->
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Content -->
                                            <div class="col-md-8">
                                                <div class="tab-content">
                                                    <div class="tab-pane fade show active" id="tab1">
                                                        <div class="accordion border-bottom" id="accordionExample">


                                                            <div class="accordion-item border-0">
                                                                <h2 class="accordion-header border-top" id="headingOne">
                                                                    <button class="accordion-button ps-0" type="button"
                                                                        data-bs-toggle="collapse"
                                                                        data-bs-target="#collapseOne"
                                                                        aria-expanded="true"
                                                                        aria-controls="collapseOne">
                                                                        <h3
                                                                            class="view-bag-accordion-hadder mb-0 text-capitalize">
                                                                            How
                                                                            do i
                                                                            make a return?</h3>
                                                                    </button>
                                                                </h2>
                                                                <div id="collapseOne"
                                                                    class="accordion-collapse collapse show"
                                                                    aria-labelledby="headingOne"
                                                                    data-bs-parent="#accordionExample">
                                                                    <div class="accordion-body ps-md-3 ps-0">
                                                                        <p
                                                                            class="view-bag-accordion-description ps-md-3">
                                                                            Something not
                                                                            quite right or having second
                                                                            thoughts? You can return or exchange your
                                                                            unworn, unaltered
                                                                            product(s) within 30 days of
                                                                            delivery at no cost to you. Return online at
                                                                            <a class="link-black  view-bag-accordion-description-link"
                                                                                href="">www.suitsupply.com/return</a> by
                                                                            logging in with
                                                                            your order details, selecting the
                                                                            product(s) you wish to return, and
                                                                            indicating whether youâ€™d
                                                                            like
                                                                            a refund or an exchange.
                                                                            You can then schedule a (free) carrier
                                                                            pick-up service, or
                                                                            drop
                                                                            off the product(s) yourself
                                                                            at either a store or drop-off point. Should
                                                                            you ship your
                                                                            returns back, you can use the
                                                                            prepaid return label that was included in
                                                                            the original
                                                                            shipment.
                                                                            After your return is
                                                                            processed at our warehouse, we will refund
                                                                            the total
                                                                            purchase
                                                                            amount to the original payment
                                                                            method used within 5-7 business days.
                                                                            Exchanged products
                                                                            will be
                                                                            re-shipped within 2
                                                                            business days after we received your return.
                                                                            Otherwise, you
                                                                            can
                                                                            visit any Suitsupply store
                                                                            for an immediate refund or exchange.
                                                                        </p>
                                                                    </div>
                                                                </div>
                                                            </div>


                                                            <div class="accordion-item border-0">
                                                                <h2 class="accordion-header border-top" id="headingTwo">
                                                                    <button class="accordion-button collapsed ps-0"
                                                                        type="button" data-bs-toggle="collapse"
                                                                        data-bs-target="#collapseTwo"
                                                                        aria-expanded="false"
                                                                        aria-controls="collapseTwo">
                                                                        <h3
                                                                            class="view-bag-accordion-hadder mb-0 text-capitalize">
                                                                            How
                                                                            do i
                                                                            make a return?</h3>
                                                                    </button>
                                                                </h2>
                                                                <div id="collapseTwo"
                                                                    class="accordion-collapse collapse"
                                                                    aria-labelledby="headingTwo"
                                                                    data-bs-parent="#accordionExample">
                                                                    <div class="accordion-body ps-md-3 ps-0">
                                                                        <p
                                                                            class="view-bag-accordion-description ps-md-3">
                                                                            Something not
                                                                            quite right or having second
                                                                            thoughts? You can return or exchange your
                                                                            unworn, unaltered
                                                                            product(s) within 30 days of
                                                                            delivery at no cost to you. Return online at
                                                                            <a class="link-black  view-bag-accordion-description-link"
                                                                                href="">www.suitsupply.com/return</a> by
                                                                            logging in with
                                                                            your order details, selecting the
                                                                            product(s) you wish to return, and
                                                                            indicating whether youâ€™d
                                                                            like
                                                                            a refund or an exchange.
                                                                            You can then schedule a (free) carrier
                                                                            pick-up service, or
                                                                            drop
                                                                            off the product(s) yourself
                                                                            at either a store or drop-off point. Should
                                                                            you ship your
                                                                            returns back, you can use the
                                                                            prepaid return label that was included in
                                                                            the original
                                                                            shipment.
                                                                            After your return is
                                                                            processed at our warehouse, we will refund
                                                                            the total
                                                                            purchase
                                                                            amount to the original payment
                                                                            method used within 5-7 business days.
                                                                            Exchanged products
                                                                            will be
                                                                            re-shipped within 2
                                                                            business days after we received your return.
                                                                            Otherwise, you
                                                                            can
                                                                            visit any Suitsupply store
                                                                            for an immediate refund or exchange.
                                                                        </p>
                                                                    </div>
                                                                </div>
                                                            </div>


                                                            <div class="accordion-item border-0">
                                                                <h2 class="accordion-header border-top"
                                                                    id="headingThree">
                                                                    <button class="accordion-button collapsed ps-0"
                                                                        type="button" data-bs-toggle="collapse"
                                                                        data-bs-target="#collapseThree"
                                                                        aria-expanded="false"
                                                                        aria-controls="collapseThree">
                                                                        <h3
                                                                            class="view-bag-accordion-hadder mb-0 text-capitalize">
                                                                            How
                                                                            do i
                                                                            make a return?</h3>
                                                                    </button>
                                                                </h2>
                                                                <div id="collapseThree"
                                                                    class="accordion-collapse collapse"
                                                                    aria-labelledby="headingThree"
                                                                    data-bs-parent="#accordionExample">
                                                                    <div class="accordion-body ps-md-3 ps-0">
                                                                        <p
                                                                            class="view-bag-accordion-description ps-md-3">
                                                                            Something not
                                                                            quite right or having second
                                                                            thoughts? You can return or exchange your
                                                                            unworn, unaltered
                                                                            product(s) within 30 days of
                                                                            delivery at no cost to you. Return online at
                                                                            <a class="link-black  view-bag-accordion-description-link"
                                                                                href="">www.suitsupply.com/return</a> by
                                                                            logging in with
                                                                            your order details, selecting the
                                                                            product(s) you wish to return, and
                                                                            indicating whether youâ€™d
                                                                            like
                                                                            a refund or an exchange.
                                                                            You can then schedule a (free) carrier
                                                                            pick-up service, or
                                                                            drop
                                                                            off the product(s) yourself
                                                                            at either a store or drop-off point. Should
                                                                            you ship your
                                                                            returns back, you can use the
                                                                            prepaid return label that was included in
                                                                            the original
                                                                            shipment.
                                                                            After your return is
                                                                            processed at our warehouse, we will refund
                                                                            the total
                                                                            purchase
                                                                            amount to the original payment
                                                                            method used within 5-7 business days.
                                                                            Exchanged products
                                                                            will be
                                                                            re-shipped within 2
                                                                            business days after we received your return.
                                                                            Otherwise, you
                                                                            can
                                                                            visit any Suitsupply store
                                                                            for an immediate refund or exchange.
                                                                        </p>
                                                                    </div>
                                                                </div>
                                                            </div>


                                                            <div class="accordion-item border-0">
                                                                <h2 class="accordion-header border-top" id="heading4">
                                                                    <button class="accordion-button collapsed ps-0"
                                                                        type="button" data-bs-toggle="collapse"
                                                                        data-bs-target="#collapse4"
                                                                        aria-expanded="false" aria-controls="collapse4">
                                                                        <h3
                                                                            class="view-bag-accordion-hadder mb-0 text-capitalize">
                                                                            How
                                                                            do i
                                                                            make a return?</h3>
                                                                    </button>
                                                                </h2>
                                                                <div id="collapse4" class="accordion-collapse collapse"
                                                                    aria-labelledby="heading4"
                                                                    data-bs-parent="#accordionExample">
                                                                    <div class="accordion-body ps-md-3 ps-0">
                                                                        <p
                                                                            class="view-bag-accordion-description ps-md-3">
                                                                            Something not
                                                                            quite right or having second
                                                                            thoughts? You can return or exchange your
                                                                            unworn, unaltered
                                                                            product(s) within 30 days of
                                                                            delivery at no cost to you. Return online at
                                                                            <a class="link-black  view-bag-accordion-description-link"
                                                                                href="">www.suitsupply.com/return</a> by
                                                                            logging in with
                                                                            your order details, selecting the
                                                                            product(s) you wish to return, and
                                                                            indicating whether youâ€™d
                                                                            like
                                                                            a refund or an exchange.
                                                                            You can then schedule a (free) carrier
                                                                            pick-up service, or
                                                                            drop
                                                                            off the product(s) yourself
                                                                            at either a store or drop-off point. Should
                                                                            you ship your
                                                                            returns back, you can use the
                                                                            prepaid return label that was included in
                                                                            the original
                                                                            shipment.
                                                                            After your return is
                                                                            processed at our warehouse, we will refund
                                                                            the total
                                                                            purchase
                                                                            amount to the original payment
                                                                            method used within 5-7 business days.
                                                                            Exchanged products
                                                                            will be
                                                                            re-shipped within 2
                                                                            business days after we received your return.
                                                                            Otherwise, you
                                                                            can
                                                                            visit any Suitsupply store
                                                                            for an immediate refund or exchange.
                                                                        </p>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>
                                                    <div class="tab-pane fade" id="tab2">
                                                        <h3>Tab 2 Content</h3>
                                                        <p>This is the content of Tab 2.</p>
                                                    </div>
                                                    <div class="tab-pane fade" id="tab3">
                                                        <h3>Tab 3 Content</h3>
                                                        <p>This is the content of Tab 3.</p>
                                                    </div>
                                                    <!-- Add more tab content as needed -->
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </section>
                        <!------------------------------ Support End------------------------------>

                        <!-- Payment Form -->
                        <form id="payment_confirmation" class="d-none"
                            action="https://secureacceptance.cybersource.com/pay" method="post">
                            <div id="paymentInputs">

                            </div>
                            <input type="submit" id="submitPayment" value="Confirm" />
                        </form>
                        <!-- Payment Form End -->

                        <!-- Back to top button start -->
                        <section class="">
                            <div class="container-fluid">
                                <button type="button" class="btn btn-floating btn-lg" id="btn-back-to-top">
                                    <img src="assets/images/ScrollTop.svg" class="img-fluid" alt="" id="scrollTopWhite">
                                    <img src="assets/images/ScrollTop-black.svg" class="img-fluid" alt=""
                                        id="scrollTopBlack">
                                </button>
                            </div>
                        </section>
                        <!-- Back to top button start -->
        </div>

        <!-- Footer Start-->
        <%- web_footer %>
            <!-- Footer End-->


            <!-- script -->
            <%- script_tags %>
                <!-- script -->

                <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

                <script>
                    $(document).ready(function () {
                        $('.country_select').select2();
                    });
                </script>

                <script>

                    function setCountry() {
                        isSelected = $('#country').val();

                        if (isSelected == null) {
                            document.getElementById('pay').disabled = true;
                        } else {
                            document.getElementById('pay').disabled = false;
                        }
                    }
                    setCountry()

                    let totalAmount = 0;
                    let currency = "USD";

                    function removeFromCart(productId, attributeId) {
                        if (!localStorage.cart) {
                            localStorage.cart = JSON.stringify([]);
                        }
                        let cart = JSON.parse(localStorage.cart);
                        let check = cart.filter(item => item.attribute != attributeId);
                        localStorage.cart = JSON.stringify(check);

                        getCartData();
                    }

                    function getCartData() {
                        let data = JSON.parse(localStorage.cart);

                        data = {
                            ids: data
                        }

                        $.ajax({
                            url: '/api/v1/cart/cart',
                            method: 'POST',
                            contentType: 'application/json',
                            data: JSON.stringify(data),
                            success: function (data) {
                                if (data.status === true || data.status === "true") {

                                    currency = data.data.currency;
                                    totalAmount = data.data.totalPrice;

                                    const obj = data.data;
                                    document.getElementById("totalPrice").innerHTML = priceShow(data.data.currency, obj.totalPrice.toLocaleString());
                                    document.getElementById("sub_total").innerHTML = priceShow(data.data.currency, obj.totalPrice.toLocaleString());

                                    document.getElementById("cartList").innerHTML = "";

                                    for (let i = 0; i < obj.data.length; i++) {
                                        let item = obj.data[i];
                                        document.getElementById("cartList").innerHTML += `

                                        <div class="card border-0 view-bag-bg-color2 shadow-none">
                                            <div class="card-body d-flex p-0 justify-content-between align-items-center">
                                                <div class="d-flex">
                                                    <img class="img-fluid" src="${item.feature_image_url}" width="90px" height="120px" />
                                                    <div class="ms-3">
                                                        <h5 class="Ready-made-offcanvas-card-hadder mb-0">${item.title}</h5>
                                                        <p class="Ready-made-offcanvas-card-address">${item.product_category_name}</p>
                                                        <div class="mt-5 d-flex">
                                                            <h3 class="Ready-made-offcanvas-card-address">Colour:
                                                                &nbsp;<span class="Ready-made-offcanvas-card-color">${item.color_name}</span>
                                                            </h3>

                                                            <h3 class="Ready-made-offcanvas-card-address ms-2">Sizer:
                                                                &nbsp;<span class="Ready-made-offcanvas-card-color">${item.size}</span>
                                                            </h3>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="text-end">
                                                    <button type="button" class="btn-close" onclick="removeFromCart(${item.id}, ${item.product_attribute_id})"></></button>
                                                    <p class="Ready-made-offcanvas-card-price mb-0 mt-5">${priceShow(data.data.currency, item.price.toLocaleString())}</p>
                                                </div>
                                            </div>
                                            <hr>
                                        </div>`;
                                    }

                                } else {
                                    iziToast.error({
                                        theme: 'dark',
                                        title: 'Error',
                                        message: data.message,
                                    });
                                }
                            },
                            error: function (jqXHR, textStatus, errorThrown) {
                                console.error('Error making the request:', textStatus, errorThrown);
                                iziToast.error({
                                    theme: 'dark',
                                    title: 'Error',
                                    message: 'An error occurred while processing your request.',
                                });
                            }
                        });
                    }

                    getCartData()

                    function paymentFormSubmit(orderId) {
                        $.ajax({
                            url: '/api/v1/payment/security',
                            method: 'POST',
                            contentType: 'application/json',
                            data: JSON.stringify({
                                "order_id": orderId,
                                "amount": totalAmount,
                                "currency": currency
                            }),
                            success: function (data) {
                                if (data.status === true || data.status === "true") {

                                    const inputsDiv = document.getElementById('paymentInputs');
                                    for (const [name, value] of Object.entries(data.data)) {
                                        const input = document.createElement('input');
                                        input.type = 'text';
                                        input.id = name;
                                        input.name = name;
                                        input.value = value;
                                        inputsDiv.appendChild(input);
                                    }
                                    setTimeout(() => { document.getElementById('submitPayment').click(); }, 100);

                                } else {
                                    document.getElementById('pay').disabled = false;
                                    iziToast.error({
                                        theme: 'dark',
                                        title: 'Error',
                                        message: data.message,
                                    });
                                }
                            },
                            error: function (jqXHR, textStatus, errorThrown) {
                                console.error('Error making the request:', textStatus, errorThrown);
                                iziToast.error({
                                    theme: 'dark',
                                    title: 'Error',
                                    message: 'An error occurred while processing your request.',
                                });
                            }
                        });
                    }

                    function paymentAmex(orderId) {
                        $.ajax({
                            url: '/api/v1/payment/amex',
                            method: 'POST',
                            contentType: 'application/json',
                            data: JSON.stringify({
                                "order_id": orderId,
                                "amount": totalAmount,
                                "currency": currency
                            }),
                            success: function (data) {
                                if (data.status === true || data.status === "true") {

                                    Checkout.configure({
                                        session: {
                                            id: data.data.sessionId
                                        }
                                    });
                                    Checkout.showPaymentPage();

                                } else {
                                    document.getElementById('pay').disabled = false;
                                    iziToast.error({
                                        theme: 'dark',
                                        title: 'Error',
                                        message: data.message,
                                    });
                                }
                            },
                            error: function (jqXHR, textStatus, errorThrown) {
                                console.error('Error making the request:', textStatus, errorThrown);
                                iziToast.error({
                                    theme: 'dark',
                                    title: 'Error',
                                    message: 'An error occurred while processing your request.',
                                });
                            }
                        });
                    }

                    function proceedToPay() {

                        let products = JSON.parse(localStorage.cart);
                        if (products.length === 0) {
                            iziToast.error({
                                theme: 'dark',
                                title: 'Error',
                                message: "Please select items to purchase"
                            });
                            return;
                        }
                        document.getElementById('pay').disabled = true;
                        const checkedValue = Array.from(document.getElementsByName("payment_method")).find(radio => radio.checked)?.value;
                        let paymentType = 1;
                        if (checkedValue === "amex") {
                            paymentType = 1;
                        } else {
                            paymentType = 2;
                        }
                        $.ajax({
                            url: '/api/v1/order_bill/add',
                            method: 'POST',
                            contentType: 'application/json',
                            data: JSON.stringify({
                                "firstName": $('#first_name').val(),
                                "lastName": $('#last_name').val(),
                                "email": $('#email').val(),
                                "phone": $('#mobile').val(),
                                "address": $('#address').val(),
                                "country": $('#country').val(),
                                "city": $('#city').val(),
                                "postalCode": $('#postal_code').val(),
                                "shippingFirstName": $('#first_name').val(),
                                "shippingLastName": $('#last_name').val(),
                                "shippingEmail": $('#email').val(),
                                "shippingPhone": $('#mobile').val(),
                                "shippingAddress": $('#address').val(),
                                "shippingCountry": $('#country').val(),
                                "shippingCity": $('#city').val(),
                                "shippingPostalCode": $('#postal_code').val(),
                                "shippingType": 1,
                                "ids": products,
                                "payment_type": paymentType
                            }),
                            success: function (data) {
                                if (data.status === true || data.status === "true") {
                                    // iziToast.success({
                                    //     theme: 'dark',
                                    // title: 'Success',
                                    //     message: data.message,
                                    // })
                                    let orderId = data.data.insertId;
                                    const checkedValue = Array.from(document.getElementsByName("payment_method")).find(radio => radio.checked)?.value;
                                    if (checkedValue === "amex") {
                                        paymentAmex(orderId);
                                    } else {
                                        paymentFormSubmit(orderId);
                                    }

                                    // localStorage.cart = JSON.stringify([]);

                                } else {
                                    document.getElementById('pay').disabled = false;
                                    iziToast.error({
                                        theme: 'dark',
                                        title: 'Error',
                                        message: data.message,
                                    });
                                }
                            },
                            error: function (jqXHR, textStatus, errorThrown) {
                                console.error('Error making the request:', textStatus, errorThrown);
                                iziToast.error({
                                    theme: 'dark',
                                    title: 'Error',
                                    message: 'An error occurred while processing your request.',
                                });
                            }
                        });
                    }

                    function showDifferentAddressInfo(elem) {
                        document.getElementById('difAddressInfoContainer').style.display = elem.checked ? 'block' : 'none';
                        $('#dif_country').select2();
                    }
                </script>
</body>

</html>